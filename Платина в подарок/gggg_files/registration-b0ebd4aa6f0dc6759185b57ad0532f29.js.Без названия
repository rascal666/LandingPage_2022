app.modules.registrationPromoPage=function(r){function e(r){u.addClass(r+"-error")}function n(){return u.find('input[type="text"]').filter(function(r,e){return!e.value}).length}function t(r){return r.reduce(function(r,e){return r[e.name]=e.value,r},{})}function o(){u.removeClass("with-error").addClass("preloader"),$.post(app.config.registrationPromoPageActionUrl,{registration:t(u.serializeArray())}).done(function(){location.href=app.config.registrationPromoPageRedirectUrl}).error(function(){e("server")}).always(function(){u.removeClass("preloader")})}function i(){var r=a.find('[href="#"]');r.click(function(e){e.preventDefault(),r.not($(this).toggleClass("active")).removeClass("active")}),a.find("form").submit(function(r){if(r.preventDefault(),u=$(this),n())return void e("client");o()}).find("input").blur(function(){var r=$(this);r.toggleClass("filled",!!r.val())})}var a,u;return r.load=function(){a=$(".registration-promo-page"),i()},r}(app.modules.registrationPromoPage||{});